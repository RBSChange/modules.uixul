<?xml version="1.0" encoding="UTF-8"?>
<bindings xmlns="http://www.mozilla.org/xbl"
	xmlns:xbl="http://www.mozilla.org/xbl">
	<binding id="cDropZoneBase" extends="layout.cEditorElement#cEditorElement">
		<handlers>
			<handler event="focus"><![CDATA[
                event.stopPropagation();
            ]]></handler>

			<handler event="blur"><![CDATA[
                event.stopPropagation();
            ]]></handler>
		</handlers>
	
		<implementation>
			<method name="getParentLayoutElement">
				<body><![CDATA[
					var parent = this.parentNode;
					while (parent != undefined)
					{
						if (parent.tagName == "clayoutelement")
						{
							return parent;
						}
						parent = parent.parentNode;
					}
					wCore.error("cDropZoneBase has no <clayoutelement/> ancestor");
					return null;
               	]]></body>
			</method>

			<method name="onDragOver">
				<parameter name="element" />
				<parameter name="data" />
				<body><![CDATA[
               		this.getElementById('highlighter').style.backgroundColor = "green";
               	]]></body>
			</method>
			
			<method name="onFocus">
				<parameter name="event" />
				<body><![CDATA[
					
                ]]></body>
			</method>
			
			<method name="onDragOut">
				<parameter name="element" />
				<parameter name="data" />
				<body><![CDATA[
	              	this.onDragSessionEnded();
	           	]]></body>
			</method>

			<method name="onDragSessionEnded">
				<body><![CDATA[
					if (this.getElementById('highlighter'))
					{
           				this.getElementById('highlighter').style.backgroundColor = ""; 
           			}
           		]]></body>
			</method>

		</implementation>
		<xbl:content
			xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
			<box anonid="highlighter" flex="1" minwidth="5px"
				minheight="5px" style="" />
		</xbl:content>
	</binding>
</bindings>