<?xml version="1.0" encoding="utf-8"?>
<bindings
	xmlns="http://www.mozilla.org/xbl"
	xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
	xmlns:xbl="http://www.mozilla.org/xbl">


	<binding id="wFieldGroup" inheritstyle="true" extends="core.wCore#wCore">


		<implementation>
			
			<field name="fields">[ ]</field>
			
			
			<constructor><![CDATA[
				this.setAttribute('show-indicator', 'false');
			]]></constructor>
			
			
			<method name="registerFieldInGroup">
				<parameter name="field" />
				<body><![CDATA[
					field._parent_group = this;
					this.fields.push(field);
				]]></body>
			</method>
			
			
			<method name="revalidate">
				<body><![CDATA[
					var isValid = true;
					for each (var f in this.fields)
					{
						if (!f.isValid) { isValid = false; break; }
					}
					this.setAttribute('validates', isValid ? 'true' : 'false');
					if (isValid)
					{
						this.onFieldGroupValid();
					}
					else
					{
						this.onFieldGroupInvalid();
					}
				]]></body>
			</method>
			
			
			<method name="onFieldGroupValid"
				doc-overridable="true">
				<body><![CDATA[
				]]></body>
			</method>
			
			
			<method name="onFieldGroupInvalid"
				doc-overridable="true">
				<body><![CDATA[
				]]></body>
			</method>
			
			
			<method name="isValid">
				<body><![CDATA[
					var attr = this.getAttribute('validates');
					return attr == 'true' ? true : false;
				]]></body>
			</method>
			
		</implementation>


		<handlers>
		</handlers>

		<!--xbl:content
			xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
			xmlns:xbl="http://www.mozilla.org/xbl">
			<xbl:children />
		</xbl:content-->

	</binding>


</bindings>
