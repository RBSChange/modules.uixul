<?xml version="1.0"?>
<bindings
	xmlns="http://www.mozilla.org/xbl"
	xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

<!--
################################################################################
## wCheckBox                                                                  ##
################################################################################
-->

	<binding id="wCheckBox" extends="form.wFormField#wFormField">

		<implementation>

			<property name="value">
				<getter><![CDATA[
					if (this.input_field.checked)
					{
						return this.getAttribute('value');
					}
					return '';
				]]></getter>
				<setter><![CDATA[
					this.setAttribute("value", val);
					this.validate();
				]]></setter>
			</property>

			<property name="checked">
				<getter><![CDATA[
					return this.input_field.checked;
				]]></getter>
				<setter><![CDATA[
					if (val)
					{
						this.input_field.checked = true;
					}
					else
					{
						this.input_field.checked = false;
					}
					this.validate();
				]]></setter>
			</property>

			<constructor><![CDATA[
				//this.setAttribute("validates", "true");
				this._original_value = this.checked;
				if (this.getAttribute('checked') == 'true')
				{
					this.checked = true;
				}
				else
				{
				this.checked = false;
				}
			]]></constructor>


			<method name="doReset">
				<body><![CDATA[
					this.checked = this._original_value;
				]]></body>
			</method>

			<method name="doEmpty">
				<body><![CDATA[
					this.doReset();
				]]></body>
			</method>

		</implementation>

		<xbl:content
			xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
			xmlns:xbl="http://www.mozilla.org/xbl">
			<hbox align="center" flex="1" xbl:inherits="flex">
				<checkbox anonid="inputField" xbl:inherits="accesskey,checked,command,crop,disabled,image,label,preference,tabindex" />
				<xbl:children />
			</hbox>
		</xbl:content>

	</binding>

</bindings>