<?xml version="1.0"?>
<bindings
	xmlns="http://www.mozilla.org/xbl"
	xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

<!--
################################################################################
## wSuggestionPannel                                                         ##
################################################################################
-->

	<binding id="wSuggestionPannel" extends="core.wBox#wBox">


    	<implementation>


    		<constructor><![CDATA[

			]]></constructor>


			<method name="display">
			    <parameter name="field" />
			    <parameter name="label" />
			    <parameter name="value" />
				<body><![CDATA[
				    this.getElementById("fieldName").setAttribute("value", field.label);
				    this.getElementById("valueLabel").setAttribute("value", label);

                    var viewContent = document.createElement("textbox");
                    viewContent.setAttribute("class", "plain");
                    viewContent.setAttribute("multiline", "true");
                    viewContent.setAttribute("rows", "3");
                    viewContent.setAttribute("cols", "50");

                    if (this.getElementById("suggestionPannelContent").firstChild)
                    {
                        this.getElementById("suggestionPannelContent").removeChild(
                            this.getElementById("suggestionPannelContent").firstChild
                        );
                    }

                    this.getElementById("suggestionPannelContent").appendChild(viewContent);

                    viewContent.value = value;

                    this.removeAttribute("collapsed");
				]]></body>
			</method>


        </implementation>


		<xbl:content
			xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
			xmlns:xbl="http://www.mozilla.org/xbl">
			<vbox flex="1" style="border: 1px solid #ccc;">
			      <hbox flex="1" class="suggestionTitle">
			         <label anonid="fieldName" class="suggestionLabel" value="" />
			         <label value=" - " class="suggestionLabel" />
			         <label anonid="valueLabel" class="suggestionLabel" value="" />
			         <spacer flex="1" />
			         <toolbarbutton image="{IconsBase}/small/error.png" oncommand="_closeSuggestionPannel()" tooltiptext="&amp;modules.generic.backoffice.buttons.Close;" />
			      </hbox>
                  <vbox anonid="suggestionPannelContent" flex="1" style="margin: 4px;" />
            </vbox>
		</xbl:content>

	</binding>

</bindings>