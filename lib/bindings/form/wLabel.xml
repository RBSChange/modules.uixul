<?xml version="1.0"?>
<bindings
	xmlns="http://www.mozilla.org/xbl"
	xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

<!--
################################################################################
## wLabel                                                                     ##
################################################################################
-->

	<binding id="wLabel">

		<implementation>

			<constructor><![CDATA[
				var indicator = this.getAttribute('indicator')
				if (this.hasAttribute('indicator') && this.getAttribute('indicator').length > 0)
				{
					var labelElm;
					switch (this.getAttribute('indicator-position'))
					{
						case 'after':
							labelElm = this.suffixIndicator;
							break;
						case 'before':
						default:
							labelElm = this.prefixIndicator;
							break;
					}
					if (labelElm) labelElm.removeAttribute('hidden');
				}
			]]></constructor>

			<property name="suffixIndicator">
				<getter><![CDATA[
					try
					{
						return document.getAnonymousElementByAttribute(this, 'anonid', 'suffixIndicator');
					}
					catch (e)
					{
						wCore.error("wLabel.getter.suffixIndicator", [], e);
					}
					return null;
				]]></getter>
			</property>

			<property name="prefixIndicator">
				<getter><![CDATA[
					try
					{
						return document.getAnonymousElementByAttribute(this, 'anonid', 'prefixIndicator');
					}
					catch (e)
					{
						wCore.error("wLabel.getter.prefixIndicator", [], e);
					}
					return null;
				]]></getter>
			</property>

		</implementation>

		<xbl:content
			xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
			xmlns:xbl="http://www.mozilla.org/xbl">
			<label anonid="prefixIndicator" hidden="true" xbl:inherits="value=indicator" style="font-family: Courier, monospace; font-weight: normal;"/>
			<label xbl:inherits="accesskey,control,crop,disabled,value">
				<xbl:children />
			</label>
			<label anonid="suffixIndicator" hidden="true" xbl:inherits="value=indicator" style="font-family: Courier, monospace; font-weight: normal;"/>
		</xbl:content>

	</binding>

</bindings>