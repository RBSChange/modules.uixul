<?xml version="1.0" encoding="utf-8"?>
<bindings xmlns="http://www.mozilla.org/xbl" xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:xbl="http://www.mozilla.org/xbl">

<!--
wRoleCondition
    @author INTbonjF
    @date   2007-10-17
-->

    <binding id="wRoleCondition" extends="core.wCore#wCore">

        <implementation>
        
        	<!-- Returns the role name to check, from the "role" attribute. -->
        	<method name="getRole">
        		<body><![CDATA[
        			return this.hasAttribute('role') ? this.getAttribute('role') : '';
        		]]></body>
        	</method>

        	<!-- Returns the node for which to check the role. -->
        	<method name="getNode">
        		<body><![CDATA[
        			return this.hasAttribute('node') ? this.getAttribute('node') : 0;
        		]]></body>
        	</method>

        	<constructor><![CDATA[
        		if (wCore.checkPermission(this.getRole(), this.getNode()))
        		{
        			this.getElementById('container').removeAttribute('hidden');
        		}
        	]]></constructor>

        	

        </implementation>

		<xbl:content
			xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
			xmlns:xbl="http://www.mozilla.org/xbl">
			<box anonid="container" hidden="true" flex="1" class="RoleCondition" orient="horizontal" xbl:inherits="orient">
				<xbl:children />
			</box>
		</xbl:content>
    </binding>

</bindings>